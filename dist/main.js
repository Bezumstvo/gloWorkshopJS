!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(){const e=document.querySelectorAll(".goods .card"),t=document.querySelector("#discount-checkbox"),n=document.querySelector("#discount-presence"),r=document.querySelector("#discount-top"),c=document.querySelector("#min"),o=document.querySelector("#max"),l=document.querySelector(".search-wrapper-input"),a=new RegExp(l.value.trim(),"i");e.forEach(e=>{e.parentElement.style.display="block"}),e.forEach(e=>{t.checked&&(e.querySelector(".card-sale")||(e.parentElement.style.display="none")),n.checked&&(e.querySelector(".card-sale")||(e.parentElement.style.display="none")),r.checked&&(e.querySelector(".card-sale")||(e.parentElement.style.display="none")),parseFloat(c.value)>0&&parseFloat(e.querySelector(".card-price").textContent)<parseFloat(c.value)&&(e.parentElement.style.display="none"),parseFloat(o.value)>0&&parseFloat(e.querySelector(".card-price").textContent)>parseFloat(o.value)&&(e.parentElement.style.display="none"),a.length>0&&console.log(a),a.test(e.querySelector(".card-title").textContent)||(e.parentElement.style.display="none"),document.querySelector(".catalog-list > .active")&&document.querySelector(".catalog-list > .active")!==document.querySelector(".catalog-list > li:first-child")&&e.dataset.category!==document.querySelector(".catalog-list > .active").textContent&&(e.parentElement.style.display="none")})}function c(){const e=document.querySelector("#cart"),t=document.querySelector(".cart-close"),n=document.querySelector(".cart"),c=document.querySelector("#min"),o=document.querySelector("#max"),l=document.querySelector(".search-wrapper-input"),a=document.querySelector(".search-btn");document.addEventListener("click",t=>{"cart"===t.target.className&&(n.style.display="none",document.body.style.overflow=""),e.addEventListener("click",()=>{n.style.display="block",document.body.style.overflow="hidden"}),function(e){const t=e.querySelectorAll(".card"),n=document.querySelector(".cart-total > span");var r=0;t.forEach(function(e){const t=parseFloat(e.querySelector(".card-price").textContent),n=parseFloat(e.querySelector(".number-sticker").textContent);r+=t*n}),n.textContent=parseFloat(r).toFixed(0).toString().replace(/(\d)(?=(\d{3})+($|\.))/g,"$1 ")}(n)}),t.addEventListener("click",()=>{n.style.display="none",document.body.style.overflow=""}),o.addEventListener("change",r),c.addEventListener("change",r),l.addEventListener("change",r),a.addEventListener("change",r),l.addEventListener("keyup",r)}function o(e,t,n){{const r=document.querySelector(".cart"),c=t.querySelector(".btn");t.appendChild(n),e.appendChild(t),c.textContent="—É–¥–∞–ª–∏—Ç—å",c.addEventListener("click",function(){parseFloat(this.parentElement.parentElement.querySelector(".number-sticker").textContent)>1?this.parentElement.parentElement.querySelector(".number-sticker").textContent=parseFloat(this.parentElement.parentElement.querySelector(".number-sticker").textContent)-1:t.remove(),calcTotal(r),showData(e)})}}function l(){const e=document.querySelectorAll(".goods .card"),t=document.querySelector(".cart-wrapper");e.forEach(e=>{e.querySelector("button").addEventListener("click",()=>{const n=e.cloneNode(!0),r=document.createElement("div");if(r.style.width="30px",r.style.height="30px",r.style.background="#333333",r.style.color="white",r.innerHTML="1",r.style.textAlign="center",r.style.position="absolute",r.className="number-sticker",r.style.zIndex="111",0===t.querySelectorAll(".card").length)o(t,n,r);else{let e=t.querySelectorAll(".card"),c=!1;e.forEach(function(e){e.querySelector(".card-title").textContent===n.querySelector(".card-title").textContent&&(c=!0,e.querySelector(".number-sticker").textContent=parseFloat(e.querySelector(".number-sticker").textContent)+1)}),c||o(t,n,r)}!function(e){const t=document.querySelector("#cart-empty"),n=e.querySelectorAll(".card").length,r=e.querySelectorAll(".number-sticker"),c=document.querySelector(".counter");let o=0;r.forEach(e=>{o+=parseFloat(e.textContent)}),c.textContent=n+" ["+o+"]",t.style.display=o?"none":"block"}(t)})})}function a(){const e=document.querySelector(".err");return fetch("../../db/db.json").then(e=>{if(e.ok)return e.json();throw new Error("Error, data not resive: "+e.status)}).then(e=>(function(e){const{goods:t}=e,n=document.querySelector(".goods");t.map(e=>{const t=document.createElement("div");t.className="col-12 col-md-6 col-lg-4 col-xl-3",t.innerHTML=`\n        <div class="card" data-category="${e.category}">\n            ${e.sale?'<div class="card-sale"> Hot Saleüî•</div>':""}\n            <div class="card-img-wrapper">\n                <span class="card-img-top"\n                    style="background-image: url('${e.img}')"></span>\n            </div>\n            <div class="card-body justify-content-between">\n                <div class="card-price" style="${e.sale?"color: green;":""}">${e.price} ‚ÇΩ</div>\n                <h5 class="card-title">${e.title}</h5>\n                <button class="btn btn-primary">–í –∫–æ—Ä–∑–∏–Ω—É</button>\n            </div>\n        </div>\n        `,n.appendChild(t)})})(e)).catch(t=>{e.innerHTML='<div style="color: red;">–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ!</div>',console.warn("Error, data not resive: "+t)})}n.r(t),async function(){await a(),function(){const e=document.querySelectorAll(".goods .card"),t=document.querySelector(".catalog-list"),n=document.querySelector(".catalog"),c=document.querySelector(".catalog-button");let o=new Set;o.add("–í—Å–µ"),e.forEach(e=>{o.add(e.dataset.category)}),o.forEach(e=>{const n=document.createElement("li");n.textContent=e,t.appendChild(n)}),c.addEventListener("click",()=>{"none"==n.style.display?n.style.display="block":n.style.display="none",event&&"LI"==event.target.tagName&&(document.querySelectorAll(".catalog-list li").forEach(e=>e.className=""),event.target.className="active"),r()})}(),c(),document.querySelectorAll(".filter-check-checkbox").forEach(function(e){e.addEventListener("change",()=>{e.checked?e.nextElementSibling.classList.add("checked"):e.nextElementSibling.classList.remove("checked"),r()})}),l()}()}]);